{"version":3,"file":"handlers-C2qAIdP8.js","sources":["../../src/js/constants.js","../../src/js/products-api.js","../../src/js/helpers.js","../../src/js/refs.js","../../src/js/render-function.js","../../src/js/modal.js","../../src/js/storage.js","../../src/js/handlers.js"],"sourcesContent":["export const BASE_URL = 'https://dummyjson.com';\nexport const API_ENDPOINTS = {\n  PRODUCTS: \"/products\",\n  PRODUCT_BY_ID: \"/products/\",\n  SEARCH_PRODUCTS: \"/products/search\",\n  CATEGORIES: \"/products/category-list\",\n  PRODUCTS_BY_CATEGORY:\"/products/category/\"\n  \n}\nexport const ITEMS_PER_PAGE = 12;\n\n","import axios from 'axios';\nimport { API_ENDPOINTS, BASE_URL, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\nexport async function getProducts(page) {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n}\nexport async function getCategories() {\n  const {data} =  await axios.get(`${API_ENDPOINTS.CATEGORIES}`);\n  return data;\n}\nexport async function getProductById(id) {\n  const {data} =await axios.get(`${API_ENDPOINTS.PRODUCT_BY_ID}${id}`);\n  return data;\n}\nexport async function searchProducts(value) {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.SEARCH_PRODUCTS}?q=${value}`\n  );\n  return data;\n}\nexport async function getProductsByCategories(category) {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS_BY_CATEGORY}${category}`\n  );\n  return data;\n}\nexport function getProductsByIds(ids) {\n  return Promise.all(ids.map(id => getProductById(id)));\n}","export function toggleActiveClass(elements, activeEl, activeClass) {\n  elements.forEach(el => {\n    el.classList.remove(activeClass);\n  });\n  activeEl.classList.add(activeClass);\n}\n\nexport function clearAllActiveClasses(elements, activeClass) {\n  elements.forEach(el => {\n    el.classList.remove(activeClass);\n  });\n}\n\nexport function isProductInList(productID, list) {\n  return list.some(lisId => lisId === productID);\n}\n\nexport function totalSum(products, cartList) {\n  return products.reduce(\n    (acc, { price, id }) =>\n      cartList.some(prId => prId === id) ? acc + Math.ceil(price) : acc,\n    0\n  );\n}\n","export const refs = {\n  categoriesList: document.querySelector('.categories'),\n  modalProduct: document.querySelector('.modal-product'),\n  productsList: document.querySelector('.products'),\n  modal: document.querySelector('.modal'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  modalCartBtn: document.querySelector('.modal-product__btn--cart'),\n  modalWishBtn: document.querySelector('.modal-product__btn--wishlist'),\n  searchForm: document.querySelector('.search-form'),\n  searchInput: document.querySelector('.search-form__input'),\n  searchFormBtnClear: document.querySelector('.search-form__btn-clear'),\n  notFoundMes: document.querySelector('.not-found'),\n};\n","import { isProductInList } from './helpers.js';\nimport { refs } from './refs.js';\n\nexport function renderCategories(categories) {\n  const categoriesWithAll = ['All', ...categories];\n  const markup = categoriesWithAll\n    .map(\n      category => `\n      <li class=\"categories__item\">\n        <button class=\"categories__btn\" type=\"button\">${category}</button>\n      </li>\n    `\n    )\n    .join('');\n\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderModalProduct({\n  thumbnail,\n  title,\n  tags,\n  description,\n  shippingInformation,\n  returnPolicy,\n  price,\n  id,\n}) {\n  const tagsMarkup = tags\n    ? `<ul class=\"modal-product__tags\">${tags\n        .map(tag => `<li class=\"modal-product__tag\">${tag}</li>`)\n        .join('')}</ul>`\n    : '';\n  const markup = `<img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n            <div class=\"modal-product__content\">\n            <p class=\"modal-product__title\">${title}</p>\n            ${tagsMarkup}\n            <p class=\"modal-product__description\">${description}</p>\n            <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n            <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n            <p class=\"modal-product__price\">Price: ${price}$</p>\n            <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n            </div>`;\n\n  refs.modalProduct.innerHTML = markup;\n}\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(\n      ({ id, title, thumbnail, category, price, brand }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n        <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\" />\n        <p class=\"products__title\">${title}</p>\n        <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${brand}</p>\n        <p class=\"products__category\">Category: ${category}</p>\n        <p class=\"products__price\">Price: $${price}</p>\n    </li>\n  `\n    )\n    .join('');\n\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function updateNavCount(type, value) {\n  const el = document.querySelector(`.nav__count[data-${type}-count]`);\n\n  const key = `${type}Count`;\n  el.dataset[key] = value;\n  el.textContent = value;\n}\n\nexport function renderModalBtns(currentID, cartList, wishList) {\n  refs.modalCartBtn.textContent = isProductInList(currentID, cartList)\n    ? 'Remove from cart'\n    : 'Add to Cart';\n  refs.modalWishBtn.textContent = isProductInList(currentID, wishList)\n    ? 'Remove from Wishlist'\n    : 'Add to Wishlist';\n}\n\nexport function renderCartSummary(cartList, totalSum) {\n  const elCount = document.querySelector('.cart-summary__value[data-count]');\n  const elPrice = document.querySelector('.cart-summary__value[data-price]');\n\n  elCount.textContent = cartList.length;\n  elCount.dataset.count = cartList.length;\n\n  elPrice.textContent = `$${~~totalSum}`;\n  elPrice.dataset.price = totalSum;\n}\n","import { onCartBtnModalClick, onWishBtnModalClick } from './handlers';\nimport { refs } from './refs';\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', onEcsKeyPress);\n  refs.modal.addEventListener('click', onBackdropClick);\n  refs.modalCloseBtn.addEventListener('click', closeModal);\n\n  refs.modalCartBtn.addEventListener('click', onCartBtnModalClick);\n  refs.modalWishBtn.addEventListener('click', onWishBtnModalClick);\n}\n\nexport function closeModal() {\n  refs.modal.classList.remove('modal--is-open');\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', onEcsKeyPress);\n  refs.modal.removeEventListener('click', onBackdropClick);\n  refs.modalCloseBtn.removeEventListener('click', closeModal);\n\n  refs.modalCartBtn.removeEventListener('click', onCartBtnModalClick);\n  refs.modalWishBtn.removeEventListener('click', onWishBtnModalClick);\n}\n\nfunction onEcsKeyPress(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === refs.modal) {\n    closeModal();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function getFromLS(key) {\n  try {\n    const jsonData = localStorage.getItem(key);\n    return jsonData ? JSON.parse(jsonData) : null;\n  } catch {\n    iziToast.error({\n      message: `Error during loading from LS for key \"${key}\": ${err}`,\n    });\n    return null;\n  }\n}\n\nexport function saveToLS(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    console.error(`SaveToLS error: ${err}`);\n  }\n}\n\nexport function removeFromLS(key) {\n  try {\n    localStorage.removeItem(key);\n  } catch (err) {\n    console.error('Error while deleting from LS:', err);\n  }\n}\n\n// //Взяти з localstorage\n// export function getFromLS(key, defaultValue = null) {\n//   try {\n//     /* if (typeof window === 'undefined' || !localStorage) {\n//       return defaultValue;\n//     } */\n\n//     const raw = localStorage.getItem(key);\n//     if (raw === null) return defaultValue;\n\n//     try {\n//       return JSON.parse(raw);\n//     } catch {\n//       return raw;\n//     }\n//   } catch (err) {\n//     iziToast.error({ message: `getFromLS error for key \"${key}\": ${err}` });\n\n//     /* if (process.env.NODE_ENV !== 'production') {\n//       console.error(`getFromLS error for key \"${key}\":`, err);\n//     } */\n\n//     return null;\n//   }\n// }\n\n// //Додати до localstorage\n// export function saveToLS(key, value) {\n//   try {\n//     if (/* typeof window === 'undefined' || */ !localStorage) return;\n\n//     const data =\n//       /* typeof value === 'string' ? value : */ JSON.stringify(value);\n\n//     localStorage.setItem(key, data);\n//   } catch (err) {\n//     iziToast.error({ message: `setToLS error for key \"${key}\": ${err}` });\n\n//     /*  if (process.env.NODE_ENV !== 'production') {\n//       console.error(`setToLS error for key \"${key}\":`, err);\n//     } */\n//   }\n// }\n\n// //Видалити з localstorage\n// export function removeFromLS(key) {\n//   try {\n//     if (/* typeof window === 'undefined' || */ !localStorage) return;\n//     localStorage.removeItem(key);\n//   } catch (err) {\n//     iziToast.error({ message: `removeFromLS error for key \"${key}\": ${err}` });\n\n//     /* if (process.env.NODE_ENV !== 'production') {\n//       console.error(`removeFromLS error for key \"${key}\":`, err);\n//     } */\n//   }\n// }\n\n// //Почистити localstorage\n// export function clearLS() {\n//   try {\n//     if (/* typeof window === 'undefined' || */ !localStorage) return;\n//     window.localStorage.clear();\n//   } catch (err) {\n//     iziToast.error({\n//       message: `clearLS error: ${err}`,\n//     });\n\n//     /*   if (process.env.NODE_ENV !== 'production') {\n//       console.error('clearLS error:', err);\n//     } */\n//   }\n// }\n\n//=============================================\n//Version after previous blended lesson:\n","import iziToast from 'izitoast';\nimport {\n  getCategories,\n  getProductById,\n  getProducts,\n  getProductsByCategories,\n  getProductsByIds,\n  searchProducts,\n} from './products-api';\nimport {\n  renderCartSummary,\n  renderCategories,\n  renderModalBtns,\n  renderModalProduct,\n  renderProducts,\n  updateNavCount,\n} from './render-function';\nimport {\n  clearAllActiveClasses,\n  isProductInList,\n  toggleActiveClass,\n  totalSum,\n} from './helpers';\nimport { refs } from './refs';\nimport { openModal } from './modal';\nimport { getFromLS, saveToLS } from './storage';\n\nlet currentPage = 1;\nlet currentID;\nlet cartList;\nlet wishList;\n\n//===== Home:\nexport async function initHomePage() {\n  cartList = getFromLS('cart') ?? [];\n  wishList = getFromLS('wishlist') ?? [];\n\n  updateNavCount('cart', cartList.length);\n  updateNavCount('wishlist', wishList.length);\n\n  try {\n    const categories = await getCategories();\n    renderCategories(categories);\n    toggleActiveClass(\n      document.querySelectorAll('.categories__btn'),\n      document.querySelector('.categories__btn'),\n      'categories__btn--active'\n    );\n\n    const { products, total } = await getProducts(currentPage);\n\n    if (!products?.length) {\n      //Notification no products\n      document.querySelector('.not-found').classList.add('not-found--visible'); //div show 'not found'\n      clearAllActiveClasses(\n        document.querySelectorAll('.categories__btn'),\n        'categories__btn--active'\n      );\n      return;\n    }\n\n    renderProducts(products);\n  } catch (err) {\n    console.error(`Error init page, ${err}`);\n  }\n}\n\nexport async function handleCategoryClick(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n\n  refs.productsList.innerHTML = '';\n\n  const category = e.target.textContent.toLowerCase();\n  const allButtons = document.querySelectorAll('.categories__btn');\n\n  toggleActiveClass(allButtons, e.target, 'categories__btn--active');\n\n  /* let productsData;\n  if (category === 'all') {\n    productsData = await getProducts(currentPage);\n  } else {\n    productsData = await getProductsByCategories(category);\n  } */\n  try {\n    const { products } = await (category === 'all'\n      ? getProducts(currentPage)\n      : getProductsByCategories(category));\n    renderProducts(products);\n  } catch (err) {\n    console.error(\n      'Something went wrong during choosing products category:',\n      err\n    );\n  }\n\n  refs.searchForm.reset();\n}\n\nexport async function handleProductClick(e) {\n  const productItem = e.target.closest('.products__item');\n\n  if (!productItem) return;\n  //   console.log(productItem);\n  try {\n    // console.log(e.target.dataset.id);\n\n    const productID = +productItem.dataset.id;\n    currentID = productID;\n    const product = await getProductById(productID);\n    renderModalProduct(product);\n\n    openModal();\n    renderModalBtns(currentID, cartList, wishList);\n  } catch (err) {\n    console.error('Error during loading product: ', err);\n  }\n}\n\nexport async function handleSearchFormSubmit(e) {\n  e.preventDefault();\n\n  const queue = e.target.elements.searchValue.value.trim();\n  if (!queue) {\n    /*     iziToast.error({\n      message: 'Please, fill the input',\n      position: 'topRight',\n    }); */\n    console.error('Please, fill the input');\n    e.target.reset();\n    return;\n  }\n  try {\n    refs.productsList.innerHTML = '';\n    const { products } = await searchProducts(queue);\n    if (!products?.length) {\n      //Notification no products\n      refs.notFoundMes.classList.add('not-found--visible'); //div show 'not found'\n      clearAllActiveClasses(\n        document.querySelectorAll('.categories__btn'),\n        'categories__btn--active'\n      );\n      return;\n    }\n    renderProducts(products);\n    toggleActiveClass(\n      document.querySelectorAll('.categories__btn'),\n      document.querySelector('.categories__btn'),\n      'categories__btn--active'\n    );\n  } catch (err) {\n    console.error('Problems witch searching products:', err);\n  }\n\n  /* e.target.reset(); */\n  refs.notFoundMes.classList.remove('not-found--visible');\n}\n\nexport async function handleSearchFormClick(e) {\n  refs.searchForm.reset();\n  refs.notFoundMes.classList.remove('not-found--visible');\n\n  toggleActiveClass(\n    document.querySelectorAll('.categories__btn'),\n    document.querySelector('.categories__btn'),\n    'categories__btn--active'\n  );\n\n  try {\n    refs.productsList.innerHTML = '';\n    const { products } = await getProducts(currentPage);\n    renderProducts(products);\n  } catch (err) {\n    console.error('Problems during searching products:', err);\n  }\n}\n\n//===== Modal:\nexport async function onCartBtnModalClick() {\n  isProductInList(currentID, cartList)\n    ? cartList.splice(\n        cartList.findIndex(v => v === currentID),\n        1\n      )\n    : cartList.push(currentID);\n\n  renderModalBtns(currentID, cartList, wishList);\n  saveToLS('cart', cartList);\n\n  updateNavCount('cart', cartList.length);\n\n  if (document.title === 'Cart')\n    try {\n      const products = await getProductsByIds(cartList);\n      const sum = totalSum(products, cartList);\n\n      refs.productsList.innerHTML = '';\n      renderProducts(products);\n      renderCartSummary(cartList, sum);\n    } catch (err) {\n      console.error(`Error with wishlist page, ${err}`);\n    }\n}\n\nexport async function onWishBtnModalClick() {\n  isProductInList(currentID, wishList)\n    ? wishList.splice(\n        wishList.findIndex(v => v === currentID),\n        1\n      )\n    : wishList.push(currentID);\n\n  renderModalBtns(currentID, cartList, wishList);\n  saveToLS('wishlist', wishList);\n\n  updateNavCount('wishlist', wishList.length);\n\n  if (document.title === 'Wishlist')\n    try {\n      const products = await getProductsByIds(wishList);\n      refs.productsList.innerHTML = '';\n      renderProducts(products);\n    } catch (err) {\n      console.error(`Error with wishlist page, ${err}`);\n    }\n}\n\n//===== Wishlist page:\nexport async function initWishlistPage() {\n  cartList = getFromLS('cart') ?? [];\n  wishList = getFromLS('wishlist') ?? [];\n\n  updateNavCount('cart', cartList.length);\n  updateNavCount('wishlist', wishList.length);\n\n  try {\n    const products = await getProductsByIds(wishList);\n    refs.productsList.innerHTML = '';\n    renderProducts(products);\n  } catch (err) {\n    console.error(`Error init wishlist page, ${err}`);\n  }\n}\n\n//===== Cart page:\nexport async function initCartPage() {\n  cartList = getFromLS('cart') ?? [];\n  wishList = getFromLS('wishlist') ?? [];\n\n  updateNavCount('cart', cartList.length);\n  updateNavCount('wishlist', wishList.length);\n  renderCartSummary(cartList);\n\n  try {\n    const products = await getProductsByIds(cartList);\n\n    const sum = totalSum(products, cartList);\n\n    refs.productsList.innerHTML = '';\n    renderProducts(products);\n    renderCartSummary(products, sum);\n  } catch (err) {\n    console.error(`Error init cart page, ${err}`);\n  }\n}\n"],"names":["BASE_URL","API_ENDPOINTS","ITEMS_PER_PAGE","axios","getProducts","page","skip","data","getCategories","getProductById","id","searchProducts","value","getProductsByCategories","category","getProductsByIds","ids","toggleActiveClass","elements","activeEl","activeClass","el","clearAllActiveClasses","isProductInList","productID","list","lisId","totalSum","products","cartList","acc","price","prId","refs","renderCategories","categories","markup","renderModalProduct","thumbnail","title","tags","description","shippingInformation","returnPolicy","tagsMarkup","tag","renderProducts","brand","updateNavCount","type","key","renderModalBtns","currentID","wishList","renderCartSummary","elCount","elPrice","openModal","onEcsKeyPress","onBackdropClick","closeModal","onCartBtnModalClick","onWishBtnModalClick","e","getFromLS","jsonData","iziToast","saveToLS","err","currentPage","initHomePage","total","handleCategoryClick","allButtons","handleProductClick","productItem","product","handleSearchFormSubmit","queue","handleSearchFormClick","v","sum","initWishlistPage","initCartPage"],"mappings":"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"}